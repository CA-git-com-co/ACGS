# ACGS HAProxy Configuration
# Constitutional hash: cdd01ef066bc6cf2

global
    maxconn 4096
    log stdout local0 debug
    
defaults
    mode http
    timeout connect 5000ms
    timeout client 50000ms
    timeout server 50000ms
    option httplog
    
frontend acgs_frontend
    bind *:80
    bind *:443
    bind *:8080
    
    # Health check endpoint
    monitor-uri /haproxy/health
    
    # Route to API Gateway
    default_backend acgs_api_gateway
    
backend acgs_api_gateway
    balance roundrobin
    option httpchk GET /gateway/health
    server api_gateway api_gateway:8080 check
