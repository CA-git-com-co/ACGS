<!-- Constitutional Hash: cdd01ef066bc6cf2 -->
version: '3.8'
services:
  jaeger-all-in-one:
    image: jaegertracing/all-in-one:1.52
    container_name: acgs-jaeger
    restart: unless-stopped
    ports:
    - 16686:16686
    - 14268:14268
    - 14250:14250
    - 6831:6831/udp
    - 6832:6832/udp
    environment:
    - COLLECTOR_OTLP_ENABLED=true
    - COLLECTOR_ZIPKIN_HOST_PORT=:9411
    - SPAN_STORAGE_TYPE=memory
    - MEMORY_MAX_TRACES=50000
    - QUERY_BASE_PATH=/jaeger
    networks:
    - acgs-tracing
    volumes:
    - jaeger-data:/tmp
    healthcheck:
      test:
      - CMD
      - wget
      - --no-verbose
      - --tries=1
      - --spider
      - http://localhost:16686/
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 40s
  otel-collector:
    image: otel/opentelemetry-collector-contrib:0.91.0
    container_name: acgs-otel-collector
    restart: unless-stopped
    command:
    - --config=/etc/otel-collector-config.yaml
    volumes:
    - ./otel-collector-config.yaml:/etc/otel-collector-config.yaml
    ports:
    - 4317:4317
    - 4318:4318
    - 8888:8888
    - 8889:8889
    - 13133:13133
    depends_on:
      jaeger-all-in-one:
        condition: service_healthy
    networks:
    - acgs-tracing
    environment:
    - JAEGER_ENDPOINT=http://jaeger-all-in-one:14268/api/traces
    healthcheck:
      test:
      - CMD
      - wget
      - --no-verbose
      - --tries=1
      - --spider
      - http://localhost:13133/
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 30s
  zipkin:
    image: openzipkin/zipkin:2.24
    container_name: acgs-zipkin
    restart: unless-stopped
    ports:
    - 9411:9411
    environment:
    - STORAGE_TYPE=mem
    - JAVA_OPTS=-Xms512m -Xmx512m
    networks:
    - acgs-tracing
    healthcheck:
      test:
      - CMD
      - wget
      - --no-verbose
      - --tries=1
      - --spider
      - http://localhost:9411/health
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 30s
  tempo:
    image: grafana/tempo:2.3.1
    container_name: acgs-tempo
    restart: unless-stopped
    command:
    - -config.file=/etc/tempo.yaml
    volumes:
    - ./tempo.yaml:/etc/tempo.yaml
    - tempo-data:/tmp/tempo
    ports:
    - 3200:3200
    - 4317:4317
    networks:
    - acgs-tracing
    healthcheck:
      test:
      - CMD
      - wget
      - --no-verbose
      - --tries=1
      - --spider
      - http://localhost:3200/ready
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 30s
networks:
  acgs-tracing:
    driver: bridge
    name: acgs-tracing-network
volumes:
  jaeger-data:
    driver: local
  tempo-data:
    driver: local
constitutional_hash: cdd01ef066bc6cf2

# Performance Targets: P99 <5ms, >100 RPS, >85% cache hit rates

**Constitutional Hash**: `cdd01ef066bc6cf2`

**Constitutional Hash**: `cdd01ef066bc6cf2`
# Constitutional Compliance: cdd01ef066bc6cf2
# Implementation Status: ðŸ”„ IN PROGRESS

# Performance Targets: P99 <5ms, >100 RPS, >85% cache hit rates
# Constitutional Compliance: cdd01ef066bc6cf2
# Implementation Status: ðŸ”„ IN PROGRESS

---

**Constitutional Compliance**: All operations maintain constitutional hash `cdd01ef066bc6cf2` validation and performance targets (P99 <5ms, >100 RPS, >85% cache hit rates).
