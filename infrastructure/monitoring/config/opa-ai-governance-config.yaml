services:
  authz:
    url: http://localhost:8181
    credentials:
      bearer:
        token: os.environ.get("AUTH_TOKEN")
  prometheus:
    url: http://prometheus:9090
bundles:
  constitutional_ai:
    resource: /policies/constitutional-ai
    persist: true
    polling:
      min_delay_seconds: 5
      max_delay_seconds: 10
    signing:
      keyid: acgs_constitutional_ai_key
      scope: write
  mab_governance:
    resource: /policies/mab-governance
    persist: true
    polling:
      min_delay_seconds: 5
      max_delay_seconds: 10
    signing:
      keyid: acgs_mab_governance_key
      scope: write
  policy_governance:
    resource: /policies/policy-governance
    persist: true
    polling:
      min_delay_seconds: 10
      max_delay_seconds: 20
    signing:
      keyid: acgs_policy_governance_key
      scope: write
decision_logs:
  console: true
  reporting:
    min_delay_seconds: 2
    max_delay_seconds: 5
    upload_size_limit_bytes: 32768
  mask_decision:
  - /input/sensitive_data
  - /input/personal_info
status:
  console: true
  service: authz
  partition_name: acgs-ai-governance
plugins:
  health:
    service: authz
  discovery:
    name: discovery
    prefix: acgs
    service: authz
caching:
  inter_query_builtin_cache:
    max_size_bytes: 200000000
distributed_tracing:
  type: grpc
  address: jaeger:14250
  service_name: acgs-opa-ai-governance
  sample_percentage: 100
  tls:
    insecure: true
server:
  metrics:
    prom: true
  encoding:
    gzip:
      min_length: 512
  diagnostic:
    addr: 0.0.0.0:8282
  authorization:
    default_decision: allow
storage:
  disk:
    directory: /data
    auto_create: true
    partitions:
    - /policies/constitutional-ai
    - /policies/mab-governance
    - /policies/policy-governance
    - /data/decisions
    - /data/metrics
compiler:
  partial_evaluation: true
  incremental: true
  strict: true
  optimize_for:
  - constitutional_compliance
  - safety_constraints
  - performance_thresholds
builtins:
- name: constitutional.evaluate_compliance
  decl:
    type: function
    args:
    - type: object
    - type: array
    result:
      type: number
- name: constitutional.check_safety_constraints
  decl:
    type: function
    args:
    - type: object
    result:
      type: boolean
- name: mab.calculate_ucb
  decl:
    type: function
    args:
    - type: number
    - type: number
    - type: number
    result:
      type: number
- name: mab.check_safety_threshold
  decl:
    type: function
    args:
    - type: number
    - type: number
    result:
      type: boolean
- name: policy.validate_governance_rules
  decl:
    type: function
    args:
    - type: object
    result:
      type: object
logs:
  level: info
  format: json
  timestamp_format: 2006-01-02T15:04:05.000Z07:00
profiling:
  enabled: true
  port: 6060
limits:
  max_eval_time: 10s
  max_eval_memory: 100MB
  max_concurrent_evals: 100
constitutional_hash: cdd01ef066bc6cf2

# Performance Targets: P99 <5ms, >100 RPS, >85% cache hit rates
# Constitutional Compliance: cdd01ef066bc6cf2
# Implementation Status: ðŸ”„ IN PROGRESS

# Performance Targets: P99 <5ms, >100 RPS, >85% cache hit rates
# Constitutional Compliance: cdd01ef066bc6cf2
# Implementation Status: ðŸ”„ IN PROGRESS
