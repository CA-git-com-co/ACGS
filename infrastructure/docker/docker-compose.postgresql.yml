services:
  postgresql:
    command:
    - postgres
    - -c
    - config_file=/etc/postgresql/postgresql.conf
    container_name: acgs_postgresql
    environment:
      POSTGRES_DB: acgs_production
      POSTGRES_INITDB_ARGS: --auth-host=scram-sha-256
      POSTGRES_PASSWORD: os.environ.get("PASSWORD")
      POSTGRES_USER: acgs_user
    healthcheck:
      interval: 10s
      retries: 5
      test:
      - CMD-SHELL
      - pg_isready -U acgs_user -d acgs_production
      timeout: 5s
    image: postgres:15.4
    ports:
    - 5439:5432
    restart: unless-stopped
    volumes:
    - postgresql_data:/var/lib/postgresql/data
    - ${ACGS_ROOT}/config/postgresql/postgresql.conf:/etc/postgresql/postgresql.conf
version: '3.8'
volumes:
  postgresql_data: {}
# constitutional_hash: cdd01ef066bc6cf2

# Performance Targets: P99 <5ms, >100 RPS, >85% cache hit rates
# Constitutional Compliance: cdd01ef066bc6cf2
# Implementation Status: ðŸ”„ IN PROGRESS

# Performance Targets: P99 <5ms, >100 RPS, >85% cache hit rates
# Constitutional Compliance: cdd01ef066bc6cf2
# Implementation Status: ðŸ”„ IN PROGRESS
