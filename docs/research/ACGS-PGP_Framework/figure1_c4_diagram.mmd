graph TB
    subgraph "ACGS-PGP Framework"
        subgraph "Governance Layer"
            AC["`**Artificial Constitution (AC)**
            Repository & Management
            *Stores normative principles*
            *Manages amendments*
            *Version control*`"]
            HO["`**Human Oversight Interface**
            Governance Dashboard
            *AC management*
            *Rule oversight*
            *Escalation handling*`"]
        end
        
        subgraph "Synthesis Layer"
            GS["`**Self-Synthesizing (GS) Engine**
            AI-Driven Rule Generation
            *Interprets AC principles*
            *Generates operational rules*
            *Adapts based on feedback*`"]
        end
        
        subgraph "Enforcement Layer"
            PGC["`**Prompt Governance Compiler (PGC)**
            with PGP Assurance
            *Runtime rule enforcement*
            *Action interception*
            *Cryptographic verification*`"]
        end
        
        subgraph "Audit & Logging"
            LOG["`**Logging & Audit Module**
            Tamper-Evident Records
            *Immutable audit trails*
            *Compliance reporting*
            *PGP-signed logs*`"]
        end
        
        subgraph "External Systems"
            AI_APP["`**AI Application**
            (e.g., LLM Agent)
            *Governed AI system*
            *Executes actions*
            *Receives constraints*`"]
            EXT["`**External Context Sources**
            *Regulatory updates*
            *Threat intelligence*
            *Policy changes*`"]
        end
    end
    
    %% Data flow relationships
    AC -->|Current AC Version| GS
    GS -->|Operational Rules| PGC
    PGC -->|Enforcement Actions| AI_APP
    PGC -->|Feedback| GS
    AI_APP -->|Action Requests| PGC
    
    %% Human oversight flows
    HO -->|Directives| GS
    HO -->|AC Amendments| AC
    GS -->|Rule Proposals| HO
    PGC -->|Escalations| HO
    
    %% External inputs
    EXT -->|Context Updates| GS
    
    %% Audit flows
    AC -->|Events| LOG
    GS -->|Events| LOG
    PGC -->|Events| LOG
    HO -->|Events| LOG
    
    %% Styling
    classDef governance fill:#e1f5fe,stroke:#01579b,stroke-width:2px
    classDef synthesis fill:#f3e5f5,stroke:#4a148c,stroke-width:2px
    classDef enforcement fill:#e8f5e8,stroke:#1b5e20,stroke-width:2px
    classDef audit fill:#fff3e0,stroke:#e65100,stroke-width:2px
    classDef external fill:#fafafa,stroke:#424242,stroke-width:2px
    
    class AC,HO governance
    class GS synthesis
    class PGC enforcement
    class LOG audit
    class AI_APP,EXT external