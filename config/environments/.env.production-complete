# ACGS-2 Production Environment Configuration
# Constitutional Hash: cdd01ef066bc6cf2
# Performance Targets: P99 <5ms, >100 RPS, >85% cache hit
#
# SECURITY WARNING: This file contains production secrets
# Ensure proper file permissions (600) and never commit to version control

# Constitutional Compliance (REQUIRED)
CONSTITUTIONAL_HASH=cdd01ef066bc6cf2
COMPLIANCE_VALIDATION_ENABLED=true
AUDIT_LOGGING_ENABLED=true

# Environment Configuration
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO

# Database Configuration (PostgreSQL on port 5439)
POSTGRES_USER=acgs_production_user
POSTGRES_PASSWORD=CHANGE_ME_SECURE_PASSWORD_32_CHARS_MIN
POSTGRES_DB=acgs_production
DATABASE_URL=postgresql://acgs_production_user:CHANGE_ME_SECURE_PASSWORD_32_CHARS_MIN@postgres:5432/acgs_production

# Redis Configuration (Redis on port 6389)
REDIS_PASSWORD=CHANGE_ME_REDIS_SECURE_PASSWORD
REDIS_URL=redis://:CHANGE_ME_REDIS_SECURE_PASSWORD@redis:6379/0

# JWT Authentication Secrets (REQUIRED - minimum 32 characters each)
SECRET_KEY=CHANGE_ME_SUPER_SECURE_JWT_KEY_MINIMUM_32_CHARACTERS_LONG_PRODUCTION_SECRET
JWT_SECRET_KEY=CHANGE_ME_JWT_SIGNING_KEY_MUST_BE_DIFFERENT_AND_SECURE_32_CHARS_MIN
CSRF_SECRET_KEY=CHANGE_ME_CSRF_PROTECTION_KEY_MUST_BE_SECURE_AND_UNIQUE_32_CHARS

# Service URLs (Internal Docker Network)
AUTH_SERVICE_URL=http://auth-service:8016
CONSTITUTIONAL_AI_URL=http://constitutional-ai-service:8001
INTEGRITY_SERVICE_URL=http://integrity-service:8002
MULTI_AGENT_COORDINATOR_URL=http://multi-agent-coordinator:8008
BLACKBOARD_SERVICE_URL=http://blackboard-service:8010

# External Service URLs
API_GATEWAY_URL=https://api.your-domain.com
PROMETHEUS_URL=http://prometheus:9090
GRAFANA_URL=http://grafana:3000

# Security Configuration
CORS_ORIGINS=https://your-domain.com,https://api.your-domain.com,https://admin.your-domain.com
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_BURST=200
ENABLE_HTTPS=true
SECURE_COOKIES=true
CSRF_PROTECTION_ENABLED=true

# Performance Configuration (Constitutional Compliance Targets)
TARGET_P99_LATENCY_MS=5.0
TARGET_CACHE_HIT_RATE=0.85
TARGET_THROUGHPUT_RPS=100.0
CACHE_TTL_SECONDS=3600
CONNECTION_POOL_SIZE=20
MAX_CONNECTIONS=100

# Monitoring Configuration
GRAFANA_ADMIN_PASSWORD=CHANGE_ME_GRAFANA_ADMIN_PASSWORD
GRAFANA_API_KEY=CHANGE_ME_GRAFANA_API_KEY_FOR_AUTOMATION
PROMETHEUS_RETENTION_DAYS=30
METRICS_COLLECTION_INTERVAL=15s
ALERT_WEBHOOK_URL=https://your-alerting-system.com/webhook

# External AI Service API Keys (Optional)
ANTHROPIC_API_KEY=CHANGE_ME_ANTHROPIC_API_KEY_IF_NEEDED
OPENAI_API_KEY=CHANGE_ME_OPENAI_API_KEY_IF_NEEDED
GOOGLE_AI_API_KEY=CHANGE_ME_GOOGLE_AI_API_KEY_IF_NEEDED

# SSL/TLS Configuration
SSL_CERT_PATH=/etc/nginx/ssl/acgs.crt
SSL_KEY_PATH=/etc/nginx/ssl/acgs.key
SSL_DHPARAM_PATH=/etc/nginx/ssl/dhparam.pem

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=acgs-production-backups
AWS_ACCESS_KEY_ID=CHANGE_ME_AWS_ACCESS_KEY
AWS_SECRET_ACCESS_KEY=CHANGE_ME_AWS_SECRET_KEY
AWS_REGION=us-east-1

# Logging Configuration
LOG_FORMAT=json
LOG_ROTATION_SIZE=100MB
LOG_RETENTION_DAYS=30
SYSLOG_ENABLED=true
SYSLOG_HOST=your-log-aggregator.com
SYSLOG_PORT=514

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3
READINESS_PROBE_DELAY=60s

# Resource Limits
POSTGRES_MAX_CONNECTIONS=100
REDIS_MAX_MEMORY=512mb
NGINX_WORKER_PROCESSES=auto
NGINX_WORKER_CONNECTIONS=1024

# Feature Flags
ENABLE_METRICS_EXPORT=true
ENABLE_DISTRIBUTED_TRACING=true
ENABLE_RATE_LIMITING=true
ENABLE_CIRCUIT_BREAKER=true
ENABLE_LOAD_BALANCING=true

# Deployment Configuration
DEPLOYMENT_STRATEGY=blue-green
ROLLBACK_TIMEOUT_SECONDS=30
ZERO_DOWNTIME_DEPLOYMENT=true
CANARY_DEPLOYMENT_PERCENTAGE=10

# Multi-Agent Coordination
MCP_AGGREGATOR_PORT=3000
MCP_FILESYSTEM_PORT=3001
MCP_GITHUB_PORT=3002
MCP_BROWSER_PORT=3003

# Constitutional AI Governance
GOVERNANCE_VALIDATION_STRICT=true
POLICY_ENFORCEMENT_ENABLED=true
COMPLIANCE_AUDIT_INTERVAL=3600
CONSTITUTIONAL_CACHE_TTL=1800

# Security Hardening
SECURITY_HEADERS_ENABLED=true
CONTENT_SECURITY_POLICY_ENABLED=true
HSTS_ENABLED=true
X_FRAME_OPTIONS=DENY
X_CONTENT_TYPE_OPTIONS=nosniff
REFERRER_POLICY=strict-origin-when-cross-origin

# Disaster Recovery
DR_ENABLED=true
DR_RTO_SECONDS=300
DR_RPO_SECONDS=60
FAILOVER_AUTOMATIC=false
BACKUP_VERIFICATION_ENABLED=true

# Compliance and Auditing
AUDIT_LOG_RETENTION_DAYS=365
COMPLIANCE_REPORTING_ENABLED=true
GDPR_COMPLIANCE_ENABLED=true
SOC2_COMPLIANCE_ENABLED=true
HIPAA_COMPLIANCE_ENABLED=false

# Performance Monitoring
APM_ENABLED=true
PROFILING_ENABLED=false
MEMORY_PROFILING_ENABLED=false
CPU_PROFILING_ENABLED=false
DISTRIBUTED_TRACING_SAMPLE_RATE=0.1
