# ACGS-2 Production Environment Configuration (Standardized)
# Constitutional Hash: cdd01ef066bc6cf2
# Production-specific environment variables

# Constitutional Compliance
CONSTITUTIONAL_HASH=cdd01ef066bc6cf2
ENVIRONMENT=production

# Core Application Settings
DEBUG=false
LOG_LEVEL=WARNING
RELOAD=false
WORKERS=4

# Database Configuration
POSTGRES_HOST=postgres
POSTGRES_PORT=5439
POSTGRES_DB=acgs_production
POSTGRES_USER=acgs_prod
POSTGRES_PASSWORD=${POSTGRES_PASSWORD:?POSTGRES_PASSWORD environment variable required}
POSTGRES_MAX_CONNECTIONS=200
POSTGRES_POOL_SIZE=20
POSTGRES_MAX_OVERFLOW=40
POSTGRES_SHARED_BUFFERS=256MB
POSTGRES_EFFECTIVE_CACHE_SIZE=1GB

# Redis Configuration
REDIS_HOST=redis
REDIS_PORT=6389
REDIS_PASSWORD=${REDIS_PASSWORD:?REDIS_PASSWORD environment variable required}
REDIS_DB=0
REDIS_MAX_CONNECTIONS=200
REDIS_CACHE_TTL=86400

# Service URLs (Production)
AUTH_SERVICE_URL=http://auth_service:8016
CONSTITUTIONAL_AI_URL=http://constitutional_ai:8001
INTEGRITY_SERVICE_URL=http://integrity_service:8002
FORMAL_VERIFICATION_URL=http://formal_verification:8003
GOVERNANCE_SYNTHESIS_URL=http://governance_synthesis:8004
POLICY_GOVERNANCE_URL=http://policy_governance:8005
EVOLUTIONARY_COMPUTATION_URL=http://evolutionary_computation:8006
CODE_ANALYSIS_URL=http://code_analysis:8007
MULTI_AGENT_COORDINATOR_URL=http://multi_agent_coordinator:8008
CONSENSUS_SERVICE_URL=http://consensus_service:8009
CONTEXT_ENGINE_URL=http://context_engine:8012

# MCP Service URLs
MCP_AGGREGATOR_URL=http://mcp_aggregator:3000
MCP_FILESYSTEM_URL=http://mcp_filesystem:3001
MCP_GITHUB_URL=http://mcp_github:3002
MCP_BROWSER_URL=http://mcp_browser:3003

# Monitoring URLs
PROMETHEUS_URL=http://prometheus:9090
GRAFANA_URL=http://grafana:3000
JAEGER_URL=http://jaeger:16686

# Performance Targets (Production)
P99_LATENCY_TARGET_MS=5
THROUGHPUT_TARGET_RPS=100
CACHE_HIT_RATE_TARGET=0.85

# Security Settings (Production)
JWT_SECRET_KEY=${JWT_SECRET_KEY:?JWT_SECRET_KEY environment variable required}
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=4
CORS_ORIGINS=["https://acgs.production.com", "https://api.acgs.production.com"]

# API Keys (Production)
OPENAI_API_KEY=${OPENAI_API_KEY:?OPENAI_API_KEY environment variable required}
GROQ_API_KEY=${GROQ_API_KEY:?GROQ_API_KEY environment variable required}
ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY:?ANTHROPIC_API_KEY environment variable required}

# Feature Flags (Production)
ENABLE_MOCK_SERVICES=false
ENABLE_DEBUG_ENDPOINTS=false
ENABLE_SWAGGER_UI=false
ENABLE_METRICS_COLLECTION=true
ENABLE_TRACING=true

# Production Settings
ENABLE_HOT_RELOAD=false
ENABLE_AUTO_MIGRATION=false
ENABLE_SEED_DATA=false
ENABLE_TEST_ENDPOINTS=false

# Resource Limits (Production)
MAX_MEMORY_MB=4096
MAX_CPU_CORES=4.0
MAX_CONCURRENT_REQUESTS=200

# Logging Configuration
LOG_FORMAT=json
LOG_FILE_PATH=/var/log/acgs/acgs-production.log
LOG_ROTATION_SIZE=100MB
LOG_RETENTION_DAYS=90

# Cache Configuration
CACHE_BACKEND=redis
CACHE_DEFAULT_TIMEOUT=3600
CACHE_KEY_PREFIX=acgs:prod:

# Session Configuration
SESSION_TIMEOUT_MINUTES=240
SESSION_CLEANUP_INTERVAL_MINUTES=60

# File Upload Configuration
MAX_FILE_SIZE_MB=100
ALLOWED_FILE_EXTENSIONS=.txt,.md,.json,.yaml,.yml,.py,.js,.ts,.pdf,.doc,.docx,.zip
UPLOAD_DIRECTORY=/var/lib/acgs/uploads

# Production Paths
ACGS_ROOT=/opt/acgs
ACGS_CONFIG_PATH=/opt/acgs/config
ACGS_LOGS_PATH=/var/log/acgs
ACGS_DATA_PATH=/var/lib/acgs
ACGS_BACKUP_PATH=/var/backup/acgs

# Docker Configuration
DOCKER_REGISTRY=registry.acgs.production.com
DOCKER_TAG=latest
BUILD_TARGET=production

# Constitutional AI Production Settings
CONSTITUTIONAL_FIDELITY_THRESHOLD=0.85
POLICY_QUALITY_THRESHOLD=0.80
GOVERNANCE_CONFIDENCE_THRESHOLD=0.85

# Multi-Agent Production Settings
MAX_AGENT_INSTANCES=20
AGENT_TIMEOUT_SECONDS=120
COORDINATION_INTERVAL_SECONDS=30

# MCP Production Settings
MCP_TIMEOUT_SECONDS=60
MCP_MAX_RETRIES=5
MCP_BATCH_SIZE=50

# Blockchain Production Settings (if applicable)
BLOCKCHAIN_NETWORK=mainnet
BLOCKCHAIN_RPC_URL=https://api.mainnet-beta.solana.com
SOLANA_KEYPAIR_PATH=/opt/acgs/keypairs

# External Service Configuration
MOCK_EXTERNAL_APIS=false
MOCK_RESPONSE_DELAY_MS=0
MOCK_FAILURE_RATE=0.0

# Production Notifications
SLACK_WEBHOOK_URL=${SLACK_WEBHOOK_URL}
EMAIL_SMTP_HOST=${EMAIL_SMTP_HOST}
EMAIL_SMTP_PORT=587
EMAIL_FROM_ADDRESS=noreply@acgs.production.com

# Version Information
ACGS_VERSION=${ACGS_VERSION:-latest}
BUILD_TIMESTAMP=${BUILD_TIMESTAMP}
GIT_COMMIT_HASH=${GIT_COMMIT_HASH}

# Constitutional Compliance Validation
CONSTITUTIONAL_VALIDATION_ENABLED=true
CONSTITUTIONAL_AUDIT_LEVEL=strict
CONSTITUTIONAL_METRICS_COLLECTION=true

# Monitoring and Alerting
PROMETHEUS_SCRAPE_INTERVAL=15s
PROMETHEUS_RETENTION=90d
GRAFANA_ADMIN_PASSWORD=${GRAFANA_PASSWORD}
ALERT_MANAGER_URL=http://alertmanager:9093

# Load Balancing
LOAD_BALANCER_ALGORITHM=least_conn
HEALTH_CHECK_INTERVAL=15s
HEALTH_CHECK_TIMEOUT=5s
HEALTH_CHECK_RETRIES=5

# SSL/TLS Configuration
SSL_CERT_PATH=/etc/ssl/certs/acgs-production.crt
SSL_KEY_PATH=/etc/ssl/private/acgs-production.key
SSL_CA_PATH=/etc/ssl/certs/ca-bundle.crt

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 1 * * *"
BACKUP_RETENTION_DAYS=90
BACKUP_COMPRESSION=gzip

# Rate Limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=1000
RATE_LIMIT_BURST=200
RATE_LIMIT_WINDOW_SECONDS=60

# Circuit Breaker Configuration
CIRCUIT_BREAKER_FAILURE_THRESHOLD=3
CIRCUIT_BREAKER_RECOVERY_TIMEOUT=60
CIRCUIT_BREAKER_TIMEOUT=5

# Service Mesh Configuration
SERVICE_MESH_ENABLED=true
MTLS_ENABLED=true
TRAFFIC_POLICY=least_conn
RETRY_ATTEMPTS=5
RETRY_TIMEOUT=5s

# High Availability Configuration
HA_ENABLED=true
REPLICA_COUNT=3
AUTO_SCALING_ENABLED=true
MIN_REPLICAS=2
MAX_REPLICAS=10
CPU_THRESHOLD=70
MEMORY_THRESHOLD=80

# Security Hardening
SECURITY_HEADERS_ENABLED=true
CONTENT_SECURITY_POLICY=strict
HSTS_ENABLED=true
CSRF_PROTECTION_ENABLED=true
XSS_PROTECTION_ENABLED=true

# Compliance and Auditing
AUDIT_LOGGING_ENABLED=true
COMPLIANCE_REPORTING_ENABLED=true
GDPR_COMPLIANCE_ENABLED=true
SOC2_COMPLIANCE_ENABLED=true

# Performance Optimization
CONNECTION_POOLING_ENABLED=true
QUERY_CACHING_ENABLED=true
RESPONSE_COMPRESSION_ENABLED=true
CDN_ENABLED=true

# Disaster Recovery
DR_ENABLED=true
BACKUP_REPLICATION_ENABLED=true
FAILOVER_TIMEOUT=30
RTO_TARGET_MINUTES=15
RPO_TARGET_MINUTES=5
