# ACGS-2 Sentry Configuration
# Copy to .env.sentry and configure with your actual values
# Constitutional Hash: cdd01ef066bc6cf2

# ==================================
# SENTRY CONFIGURATION
# ==================================

# Sentry DSN - Get this from your Sentry project settings
# For SaaS: https://your-key@o0.ingest.sentry.io/project-id
# For self-hosted: http://your-sentry-host:9000/api/project-id/store/
SENTRY_DSN=https://your-sentry-dsn@o0.ingest.sentry.io/your-project-id

# Sentry Environment (development, staging, production)
SENTRY_ENVIRONMENT=development

# Sentry Release Version (helps track which code version caused issues)
SENTRY_RELEASE=acgs-2.0.0

# Sample Rate for Performance Monitoring (0.0 to 1.0)
# Production: 0.1-0.2, Development: 1.0
SENTRY_TRACES_SAMPLE_RATE=1.0

# Sample Rate for Profiling (0.0 to 1.0)  
# Production: 0.1, Development: 1.0
SENTRY_PROFILES_SAMPLE_RATE=1.0

# Enable debug mode for Sentry SDK
SENTRY_DEBUG=false

# Send default PII (personally identifiable information)
# Set to false in production to avoid sending sensitive data
SENTRY_SEND_DEFAULT_PII=false

# Maximum breadcrumbs to keep
SENTRY_MAX_BREADCRUMBS=100

# ==================================
# SELF-HOSTED SENTRY (OPTIONAL)
# ==================================

# If using self-hosted Sentry, configure these
SENTRY_SECRET_KEY=your-secret-key-change-in-production
SENTRY_POSTGRES_HOST=postgres_sentry
SENTRY_POSTGRES_PORT=5432
SENTRY_DB_NAME=sentry
SENTRY_DB_USER=sentry
SENTRY_DB_PASSWORD=sentry_password_change_in_production
SENTRY_REDIS_HOST=redis_sentry
SENTRY_REDIS_PORT=6379

# ==================================
# ACGS-2 SPECIFIC CONFIGURATION
# ==================================

# Constitutional Hash (IMMUTABLE)
CONSTITUTIONAL_HASH=cdd01ef066bc6cf2

# Service Names for Tagging
ACGS_SERVICE_NAME=constitutional-ai-service
ACGS_VERSION=2.0.0

# Performance Targets (for alerting)
ACGS_P99_LATENCY_TARGET_MS=5.0
ACGS_THROUGHPUT_TARGET_RPS=100
ACGS_CACHE_HIT_RATE_TARGET=0.85
ACGS_CONSTITUTIONAL_COMPLIANCE_TARGET=1.0

# Alert Thresholds
ACGS_ALERT_CRITICAL_COMPLIANCE_RATE=0.95
ACGS_ALERT_HIGH_COMPLIANCE_RATE=0.97
ACGS_ALERT_CRITICAL_LATENCY_MS=10.0
ACGS_ALERT_HIGH_LATENCY_MS=7.5

# ==================================
# INTEGRATION SETTINGS
# ==================================

# Slack webhook for critical alerts (optional)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# PagerDuty integration key (optional)
PAGERDUTY_INTEGRATION_KEY=your-pagerduty-key

# Email for critical constitutional violations
CONSTITUTIONAL_ALERT_EMAIL=admin@your-domain.com

# ==================================
# MONITORING STACK INTEGRATION
# ==================================

# Prometheus URL for metrics correlation
PROMETHEUS_URL=http://localhost:9090

# Grafana URL for dashboard integration
GRAFANA_URL=http://localhost:3000

# Jaeger URL for distributed tracing correlation
JAEGER_URL=http://localhost:16686

# ==================================
# SECURITY SETTINGS
# ==================================

# Allowed origins for CORS in development
SENTRY_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080

# Trusted hosts for security headers
TRUSTED_HOSTS=localhost,127.0.0.1,acgs-services

# JWT Secret for service authentication
JWT_SECRET_KEY=change-this-to-a-secure-secret-in-production

# Database encryption key
DB_ENCRYPTION_KEY=change-this-to-a-secure-encryption-key

# ==================================
# FEATURE FLAGS
# ==================================

# Enable/disable specific Sentry features
ENABLE_SENTRY_PROFILING=true
ENABLE_SENTRY_TRACING=true
ENABLE_SENTRY_LOGGING=true
ENABLE_SESSION_REPLAY=false  # Set to true for frontend monitoring

# Enable constitutional compliance monitoring
ENABLE_CONSTITUTIONAL_MONITORING=true

# Enable multi-agent coordination monitoring
ENABLE_AGENT_MONITORING=true

# Enable performance monitoring
ENABLE_PERFORMANCE_MONITORING=true

# ==================================
# DEVELOPMENT SETTINGS
# ==================================

# Log level for development
LOG_LEVEL=DEBUG

# Enable additional debug features in development
CONSTITUTIONAL_DEBUG=true

# Mock external services in development
MOCK_EXTERNAL_SERVICES=false

# ==================================
# PRODUCTION OVERRIDES
# ==================================

# These settings should be overridden in production
# SENTRY_TRACES_SAMPLE_RATE=0.2
# SENTRY_PROFILES_SAMPLE_RATE=0.1
# SENTRY_DEBUG=false
# LOG_LEVEL=INFO
# CONSTITUTIONAL_DEBUG=false

# ==================================
# BACKUP AND DISASTER RECOVERY
# ==================================

# Backup configuration for Sentry data
SENTRY_BACKUP_ENABLED=false
SENTRY_BACKUP_INTERVAL=24h
SENTRY_BACKUP_RETENTION=7d

# ==================================
# COMPLIANCE AND AUDIT
# ==================================

# Enable compliance logging
COMPLIANCE_LOGGING_ENABLED=true

# Audit log retention period
AUDIT_LOG_RETENTION_DAYS=365

# Constitutional compliance reporting
CONSTITUTIONAL_REPORTING_ENABLED=true
CONSTITUTIONAL_REPORT_INTERVAL=1h