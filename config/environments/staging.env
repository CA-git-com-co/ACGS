# ACGS Staging Environment Configuration
# This file contains staging-specific environment variables

# Environment
ENVIRONMENT=staging
DEBUG=false
LOG_LEVEL=INFO

# Database Configuration
POSTGRES_USER=acgs_staging
POSTGRES_PASSWORD=${POSTGRES_PASSWORD}
POSTGRES_DB=acgs_staging
DATABASE_URL=postgresql+asyncpg://acgs_staging:${POSTGRES_PASSWORD}@postgres:5432/acgs_staging

# Redis Configuration
REDIS_URL=redis://redis:6379/0
REDIS_PASSWORD=${REDIS_PASSWORD}

# Security Configuration
JWT_SECRET_KEY=${JWT_SECRET_KEY}
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=8
BCRYPT_ROUNDS=12

# API Keys (Staging)
OPENAI_API_KEY=${OPENAI_API_KEY}
GEMINI_API_KEY=${GEMINI_API_KEY}
GROQ_API_KEY=${GROQ_API_KEY}
ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY}

# Service URLs (Staging)
AUTH_SERVICE_URL=http://auth_service:8000
AC_SERVICE_URL=http://ac_service:8001
INTEGRITY_SERVICE_URL=http://integrity_service:8002
FV_SERVICE_URL=http://fv_service:8003
GS_SERVICE_URL=http://gs_service:8004
PGC_SERVICE_URL=http://pgc_service:8005
EC_SERVICE_URL=http://ec_service:8006

# Performance Configuration (Staging)
RATE_LIMIT_REQUESTS=500
RATE_LIMIT_WINDOW_MINUTES=1
CACHE_TTL_SECONDS=300
MAX_CONCURRENT_REQUESTS=200
REQUEST_TIMEOUT_SECONDS=60

# Development Features (Disabled in Staging)
RELOAD=false
HOT_RELOAD=false
AUTO_MIGRATION=true
SEED_DATA=false
MOCK_EXTERNAL_APIS=false

# Monitoring Configuration (Staging)
PROMETHEUS_ENABLED=true
GRAFANA_ENABLED=true
JAEGER_ENABLED=true
HEALTH_CHECK_INTERVAL=15

# Security Configuration (Staging - Production-like)
CORS_ORIGINS=["https://staging.acgs-pgp.com"]
CORS_ALLOW_CREDENTIALS=true
CSRF_PROTECTION=true
SECURE_COOKIES=true
HTTPS_ONLY=true

# Blockchain Configuration (Staging)
SOLANA_CLUSTER=testnet
SOLANA_RPC_URL=https://api.testnet.solana.com
ANCHOR_PROVIDER_URL=https://api.testnet.solana.com
ANCHOR_WALLET=/app/keys/staging-wallet.json

# Constitutional AI Configuration (Staging)
CONSTITUTIONAL_FIDELITY_THRESHOLD=0.85
POLICY_QUALITY_THRESHOLD=0.80
MAX_SYNTHESIS_LOOPS=3
ENABLE_EXPERIMENTAL_FEATURES=false

# Formal Verification Configuration (Staging)
Z3_TIMEOUT_SECONDS=30
MAX_VERIFICATION_DEPTH=10
PARALLEL_VERIFICATION=true

# Governance Synthesis Configuration (Staging)
MAX_POLICY_GENERATION_TIME_SECONDS=120
ENABLE_POLICY_CACHING=true
POLICY_CACHE_TTL_SECONDS=600

# Policy Governance Configuration (Staging)
OPA_SERVER_URL=http://opa:8181
POLICY_DECISION_TIMEOUT_MS=50
ENABLE_POLICY_DEBUGGING=false

# Evolutionary Computation Configuration (Staging)
POPULATION_SIZE=50
MAX_GENERATIONS=20
MUTATION_RATE=0.05
CROSSOVER_RATE=0.9

# File Storage Configuration (Staging)
STORAGE_TYPE=s3
STORAGE_BUCKET=acgs-staging-storage
MAX_FILE_SIZE_MB=50

# Email Configuration (Staging)
EMAIL_PROVIDER=sendgrid
SMTP_HOST=${SMTP_HOST}
SMTP_PORT=587
SMTP_USERNAME=${SMTP_USERNAME}
SMTP_PASSWORD=${SMTP_PASSWORD}
FROM_EMAIL=staging@acgs-pgp.com

# Webhook Configuration (Staging)
WEBHOOK_SECRET=${WEBHOOK_SECRET}
WEBHOOK_TIMEOUT_SECONDS=10

# Feature Flags (Staging)
ENABLE_FEATURE_A=true
ENABLE_FEATURE_B=true
ENABLE_BETA_FEATURES=true
ENABLE_DEBUG_ENDPOINTS=false

# Development Tools (Limited in Staging)
ENABLE_SWAGGER_UI=true
ENABLE_REDOC=true
ENABLE_DEBUG_TOOLBAR=false
ENABLE_PROFILING=false

# Testing Configuration
TEST_DATABASE_URL=postgresql+asyncpg://acgs_staging:${POSTGRES_PASSWORD}@postgres:5432/acgs_staging_test
TEST_REDIS_URL=redis://redis:6379/15
PYTEST_TIMEOUT=60
COVERAGE_THRESHOLD=85

# Backup Configuration (Staging)
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=7
BACKUP_S3_BUCKET=acgs-staging-backups

# SSL/TLS Configuration (Staging)
SSL_CERT_PATH=/app/ssl/staging.crt
SSL_KEY_PATH=/app/ssl/staging.key
SSL_CA_PATH=/app/ssl/ca.crt

# Load Balancer Configuration (Staging)
LOAD_BALANCER_ENABLED=true
HEALTH_CHECK_PATH=/health
HEALTH_CHECK_INTERVAL=10
HEALTH_CHECK_TIMEOUT=5

# Scaling Configuration (Staging)
MIN_REPLICAS=2
MAX_REPLICAS=5
CPU_THRESHOLD=70
MEMORY_THRESHOLD=80

# Alerting Configuration (Staging)
ALERT_EMAIL=staging-alerts@acgs-pgp.com
SLACK_WEBHOOK_URL=${SLACK_WEBHOOK_URL}
PAGERDUTY_INTEGRATION_KEY=${PAGERDUTY_INTEGRATION_KEY}

# Compliance Configuration (Staging)
AUDIT_LOGGING=true
DATA_RETENTION_DAYS=90
GDPR_COMPLIANCE=true
HIPAA_COMPLIANCE=false
