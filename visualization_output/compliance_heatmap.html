<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ACGS Constitutional Compliance Heatmap</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #1e1e1e;
            color: #ffffff;
        }

        .header {
            text-align: center;
            margin-bottom: 20px;
        }

        .heatmap-container {
            width: 100%;
            height: 80vh;
            border: 1px solid #444;
            border-radius: 8px;
            background: #252525;
            padding: 20px;
        }

        .cell {
            stroke: #333;
            stroke-width: 1px;
            cursor: pointer;
        }

        .cell:hover {
            stroke: #fff;
            stroke-width: 2px;
        }

        .tooltip {
            position: absolute;
            padding: 10px;
            background: rgba(0, 0, 0, 0.9);
            border: 1px solid #666;
            border-radius: 6px;
            pointer-events: none;
            font-size: 12px;
            max-width: 300px;
            z-index: 1000;
        }

        .legend {
            margin-top: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .legend-scale {
            display: flex;
            border: 1px solid #666;
        }

        .legend-cell {
            width: 20px;
            height: 20px;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ðŸ“Š ACGS Constitutional Compliance Heatmap</h1>
        <p>Constitutional Hash: <code>cdd01ef066bc6cf2</code></p>
        <p>Generated: 2025-07-06 10:22:59</p>
    </div>

    <div class="heatmap-container">
        <svg id="heatmap"></svg>
        <div class="tooltip" id="tooltip" style="opacity: 0;"></div>

        <div class="legend">
            <span>Compliance Rate:</span>
            <div class="legend-scale" id="legend-scale"></div>
            <span>0%</span>
            <span>50%</span>
            <span>100%</span>
        </div>
    </div>

    <script>
        const dirStats = {
        "performance_benchmarking_plan.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "staging_readiness_report.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "openrouter_integration.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "ACADEMIC_PAPER_ENHANCEMENT_GUIDE.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "DEPENDENCY_MANAGERS_UPDATE_SUMMARY.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "WORKFLOW_MODERNIZATION_REPORT.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "acge.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "DOCUMENTATION_SYNCHRONIZATION_PROCEDURES.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "emergency_rollback_procedures.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "DEPLOYMENT_VALIDATION_REPORT.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "constitutional_compliance_validation_framework.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "PHASE_1_COMPLETION_REPORT.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "HUNYUAN_INTEGRATION_STATUS.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "TEST_FIX_SUMMARY.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "ACGE_COST_ANALYSIS_ROI_PROJECTIONS.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "TASK_COMPLETION_SUMMARY.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "phase1_completion_report.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "CODE_QUALITY_IMPLEMENTATION_SUMMARY.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "DOCUMENTATION_AUDIT_REPORT.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "ACGS_SERVICE_OVERVIEW.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "QUARTERLY_DOCUMENTATION_AUDIT_PROCEDURES.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "AUTOMATED_DEPLOYMENT_CHECKLIST.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "PRODUCTION_READINESS_CHECKLIST.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "Robust Application Context Layer Design_.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "workflow_fixes_summary.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "risk_assessed_migration_plan.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "CRITICAL_DOCUMENTATION_IMPLEMENTATION_DISCREPANCIES.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "CI_CD_FIXES_REPORT.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "WORKFLOW_OPTIMIZATION_REPORT.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "DOCUMENTATION_RESPONSIBILITY_MATRIX.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "DEPENDENCIES.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "CROSS_REFERENCE_VALIDATION_REPORT.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "migration_plan.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "ACGE_STRATEGIC_IMPLEMENTATION_PLAN_24_MONTH.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "ACGE_TESTING_VALIDATION_FRAMEWORK.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "workflow_validation_summary.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "security_validation_completion_report.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "workflow_systematic_fixes_final_report.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "TEST_IMPROVEMENTS_SUMMARY.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "CONTRIBUTING.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "README.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "DEPENDENCY_MANAGEMENT_COMPLETE.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "REMAINING_TASKS_COMPLETION_SUMMARY.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "DOCUMENTATION_QUALITY_METRICS.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "PYTEST_WARNING_FIXES.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "DOCUMENTATION_QA_VALIDATION_REPORT.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "cost_benefit_analysis.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "ACGS_DOCUMENTATION_IMPLEMENTATION_COMPLETION_REPORT.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "free_model_usage.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "COST_OPTIMIZATION_SUMMARY.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "prometheus_metrics_validation_report.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "Tasks_2025-07-01T01-27-55.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "phase2_completion_report.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "gap_analysis_report.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "executive_summary.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "DOCUMENTATION_REVIEW_REQUIREMENTS.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "CHANGELOG.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "TECHNICAL_SPECIFICATIONS_2025.md": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "deployment": {
                "total_docs": 14,
                "compliant_docs": 14,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "training": {
                "total_docs": 3,
                "compliant_docs": 3,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "operations": {
                "total_docs": 2,
                "compliant_docs": 2,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "implementation": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "architecture": {
                "total_docs": 21,
                "compliant_docs": 21,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "security": {
                "total_docs": 3,
                "compliant_docs": 3,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "workflows": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "api": {
                "total_docs": 11,
                "compliant_docs": 11,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "configuration": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        },
        "integration": {
                "total_docs": 1,
                "compliant_docs": 1,
                "compliance_rate": 1.0,
                "non_compliant_files": []
        }
};

        const margin = {top: 50, right: 50, bottom: 100, left: 150};
        const cellSize = 30;
        const width = Object.keys(dirStats).length * cellSize + margin.left + margin.right;
        const height = 400 + margin.top + margin.bottom;

        const svg = d3.select('#heatmap')
            .attr('width', width)
            .attr('height', height);

        const g = svg.append('g')
            .attr('transform', `translate(${margin.left},${margin.top})`);

        const tooltip = d3.select('#tooltip');

        // Color scale
        const colorScale = d3.scaleSequential(d3.interpolateRdYlGn)
            .domain([0, 1]);

        // Create legend
        const legendScale = d3.select('#legend-scale');
        for (let i = 0; i <= 10; i++) {
            legendScale.append('div')
                .attr('class', 'legend-cell')
                .style('background-color', colorScale(i / 10));
        }

        // Directory names
        const directories = Object.keys(dirStats);

        // X scale
        const xScale = d3.scaleBand()
            .domain(directories)
            .range([0, directories.length * cellSize])
            .padding(0.1);

        // Y positions for different metrics
        const metrics = ['compliance_rate', 'total_docs', 'compliant_docs'];
        const metricLabels = {
            'compliance_rate': 'Compliance Rate',
            'total_docs': 'Total Documents',
            'compliant_docs': 'Compliant Documents'
        };

        // Create cells
        directories.forEach((dir, i) => {
            const x = i * cellSize;

            // Compliance rate cell
            g.append('rect')
                .attr('class', 'cell')
                .attr('x', x)
                .attr('y', 0)
                .attr('width', cellSize - 1)
                .attr('height', cellSize - 1)
                .style('fill', colorScale(dirStats[dir].compliance_rate))
                .on('mouseover', function(event) {
                    const content = `
                        <strong>${dir}</strong><br/>
                        <em>Compliance Rate:</em> ${(dirStats[dir].compliance_rate * 100).toFixed(1)}%<br/>
                        <em>Compliant Docs:</em> ${dirStats[dir].compliant_docs}/${dirStats[dir].total_docs}<br/>
                        <em>Non-Compliant Files:</em><br/>
                        ${dirStats[dir].non_compliant_files.slice(0, 5).map(f => `â€¢ ${f}`).join('<br/>')}
                        ${dirStats[dir].non_compliant_files.length > 5 ? '<br/>...' : ''}
                    `;

                    tooltip.html(content)
                        .style('left', (event.pageX + 10) + 'px')
                        .style('top', (event.pageY - 10) + 'px')
                        .transition().duration(200)
                        .style('opacity', 1);
                })
                .on('mouseout', function() {
                    tooltip.transition().duration(200)
                        .style('opacity', 0);
                });
        });

        // Add directory labels
        g.selectAll('.dir-label')
            .data(directories)
            .enter().append('text')
            .attr('class', 'dir-label')
            .attr('x', (d, i) => i * cellSize + cellSize / 2)
            .attr('y', cellSize + 15)
            .attr('text-anchor', 'middle')
            .style('font-size', '10px')
            .style('fill', '#ffffff')
            .text(d => d)
            .attr('transform', (d, i) => `rotate(-45, ${i * cellSize + cellSize / 2}, ${cellSize + 15})`);

        // Add title
        g.append('text')
            .attr('x', (directories.length * cellSize) / 2)
            .attr('y', -20)
            .attr('text-anchor', 'middle')
            .style('font-size', '16px')
            .style('font-weight', 'bold')
            .style('fill', '#ffffff')
            .text('Constitutional Compliance by Directory');
    </script>
</body>
</html>
