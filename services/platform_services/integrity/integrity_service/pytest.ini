[tool:pytest]
# ACGS-2 Persistent Audit Logger Test Configuration
# Constitutional Hash: cdd01ef066bc6cf2

# Test discovery
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Async support
asyncio_mode = auto

# Output configuration
addopts = 
    -v
    --tb=short
    --strict-markers
    --disable-warnings
    --color=yes
    --durations=10

# Markers for test categorization
markers =
    unit: Unit tests
    integration: Integration tests
    performance: Performance benchmark tests
    security: Security and tamper detection tests
    constitutional: Constitutional compliance tests

# Minimum test coverage requirements
# (Uncomment when coverage plugin is available)
# --cov=app/core/persistent_audit_logger
# --cov-report=html
# --cov-report=term-missing
# --cov-fail-under=80

# Test environment variables
env = 
    TESTING=true
    CONSTITUTIONAL_HASH=cdd01ef066bc6cf2
    DATABASE_URL=osconfig/environments/development.environ.get("DATABASE_URL")
    REDIS_URL=redis://localhost:6389
