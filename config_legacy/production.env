# ACGS-1 Production Environment Configuration
# Phase 3 - Production Deployment Settings

# Environment
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO

# Database Configuration (PostgreSQL)
DATABASE_URL=postgresql://acgs_user:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:5432/acgs_production
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=acgs_production
POSTGRES_USER=acgs_user
POSTGRES_PASSWORD=${POSTGRES_PASSWORD}
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600

# Redis Configuration
REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=${REDIS_PASSWORD}
REDIS_DB=0
REDIS_MAX_CONNECTIONS=100
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5

# Service Ports
AUTH_SERVICE_PORT=8000
AC_SERVICE_PORT=8001
INTEGRITY_SERVICE_PORT=8002
FV_SERVICE_PORT=8003
GS_SERVICE_PORT=8004
PGC_SERVICE_PORT=8005
EC_SERVICE_PORT=8006

# Service URLs (for inter-service communication)
AUTH_SERVICE_URL=https://auth.acgs.internal:8000
AC_SERVICE_URL=https://ac.acgs.internal:8001
INTEGRITY_SERVICE_URL=https://integrity.acgs.internal:8002
FV_SERVICE_URL=https://fv.acgs.internal:8003
GS_SERVICE_URL=https://gs.acgs.internal:8004
PGC_SERVICE_URL=https://pgc.acgs.internal:8005
EC_SERVICE_URL=https://ec.acgs.internal:8006

# Security Configuration
SECRET_KEY=${SECRET_KEY}
JWT_SECRET_KEY=${JWT_SECRET_KEY}
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24
ENCRYPTION_KEY=${ENCRYPTION_KEY}
API_KEY_HEADER=X-API-Key
CORS_ORIGINS=https://acgs.com,https://app.acgs.com,https://admin.acgs.com

# SSL/TLS Configuration
SSL_CERT_PATH=/etc/ssl/certs/acgs.crt
SSL_KEY_PATH=/etc/ssl/private/acgs.key
SSL_CA_PATH=/etc/ssl/certs/ca-certificates.crt
TLS_VERSION=1.2
REQUIRE_SSL=true

# Rate Limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=1000
RATE_LIMIT_BURST=100
RATE_LIMIT_REDIS_KEY_PREFIX=acgs_rate_limit

# Monitoring and Logging
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000
LOG_FORMAT=json
LOG_FILE_PATH=/var/log/acgs/acgs.log
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=10
METRICS_ENABLED=true
HEALTH_CHECK_INTERVAL=30

# Performance Settings
WORKER_PROCESSES=4
WORKER_CONNECTIONS=1000
KEEPALIVE_TIMEOUT=65
CLIENT_MAX_BODY_SIZE=10M
REQUEST_TIMEOUT=30
RESPONSE_TIMEOUT=30

# Blockchain/Solana Configuration (for FV service)
SOLANA_RPC_URL=https://api.mainnet-beta.solana.com
SOLANA_COMMITMENT=confirmed
SOLANA_TIMEOUT=30

# AI/LLM Configuration
OPENAI_API_KEY=${OPENAI_API_KEY}
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=4000
OPENAI_TEMPERATURE=0.1
LLM_TIMEOUT=60
LLM_MAX_RETRIES=3

# Constitutional AI Settings
CONSTITUTIONAL_RULES_VERSION=1.0.0
CONSTITUTIONAL_COMPLIANCE_THRESHOLD=0.8
DEMOCRATIC_PARTICIPATION_REQUIRED=true
TRANSPARENCY_LEVEL=high

# Governance Settings
POLICY_APPROVAL_THRESHOLD=0.67
GOVERNANCE_VOTING_PERIOD_HOURS=168
CONSTITUTIONAL_AMENDMENT_THRESHOLD=0.75
EMERGENCY_GOVERNANCE_ENABLED=true

# Backup and Recovery
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=/var/backups/acgs
DATABASE_BACKUP_ENABLED=true
REDIS_BACKUP_ENABLED=true

# Alerting Configuration
ALERT_EMAIL_ENABLED=true
ALERT_EMAIL_SMTP_HOST=${SMTP_HOST}
ALERT_EMAIL_SMTP_PORT=587
ALERT_EMAIL_USERNAME=${SMTP_USERNAME}
ALERT_EMAIL_PASSWORD=${SMTP_PASSWORD}
ALERT_EMAIL_FROM=alerts@acgs.com
ALERT_EMAIL_TO=ops@acgs.com,admin@acgs.com

# SLA Targets
TARGET_UPTIME_PERCENTAGE=99.9
TARGET_RESPONSE_TIME_MS=500
TARGET_ERROR_RATE_PERCENTAGE=0.1
SLA_MONITORING_ENABLED=true

# Feature Flags
EVOLUTIONARY_COMPUTATION_ENABLED=true
FORMAL_VERIFICATION_ENABLED=true
CONSTITUTIONAL_AI_ENABLED=true
GOVERNANCE_SYNTHESIS_ENABLED=true
POLICY_GOVERNANCE_ENABLED=true
INTEGRITY_CHECKING_ENABLED=true
AUTHENTICATION_REQUIRED=true

# Development/Testing Overrides (should be false in production)
SKIP_AUTH_FOR_HEALTH_CHECKS=false
ALLOW_INSECURE_CONNECTIONS=false
ENABLE_DEBUG_ENDPOINTS=false
MOCK_EXTERNAL_SERVICES=false

# Deployment Information
DEPLOYMENT_VERSION=${DEPLOYMENT_VERSION}
DEPLOYMENT_TIMESTAMP=${DEPLOYMENT_TIMESTAMP}
GIT_COMMIT_HASH=${GIT_COMMIT_HASH}
BUILD_NUMBER=${BUILD_NUMBER}
