{"meta": {"format": 3, "version": "7.9.1", "timestamp": "2025-06-17T07:03:32.046771", "branch_coverage": false, "show_contexts": false}, "files": {"services/core/pgc/src/cache_optimizer.py": {"executed_lines": [1, 16, 17, 18, 19, 20, 21, 22, 23, 26, 27, 29, 34, 35, 37, 41, 44, 45, 46, 49, 50, 53, 54, 55, 57, 58, 59, 60, 61, 62, 64, 65, 67, 69, 70, 72, 74, 79, 80, 83, 84, 85, 87, 88, 89, 90, 91, 92, 94, 95, 97, 98, 99, 102, 103, 113, 123, 124, 125, 128, 129, 132, 133, 136, 137, 140, 142, 146, 151, 152, 153, 155, 156, 157, 162, 164, 165, 166, 168, 170, 173, 177, 178, 181, 183, 188, 190, 192, 195, 197, 199, 210, 211, 213, 214, 215, 218, 219, 221, 223, 224, 225, 228, 229, 231, 232, 234, 237, 243, 244, 246, 247, 248, 251, 253, 256, 267, 268, 269, 271, 272, 274, 277, 282, 283, 285, 286, 288, 291, 297, 316, 317, 319, 320, 322, 327, 337, 338, 339, 342, 343, 344, 351, 354, 355, 357, 358, 360, 363, 369, 374, 376, 377, 379, 380, 382, 386, 391, 394, 398, 399, 401, 402, 407, 408, 410, 423, 424, 425, 427, 428, 429, 430, 433, 437, 438, 441, 444, 449, 454, 455, 462, 464, 465, 468, 469, 475, 478, 479, 486, 511, 516, 517, 518, 519, 521, 522, 523, 525, 526, 528, 529, 536, 539, 547, 548, 551, 553], "summary": {"covered_lines": 204, "num_statements": 242, "percent_covered": 84.29752066115702, "percent_covered_display": "84", "missing_lines": 38, "excluded_lines": 0}, "missing_lines": [30, 31, 38, 39, 158, 159, 160, 171, 240, 278, 279, 293, 294, 295, 347, 348, 365, 366, 367, 395, 434, 442, 445, 446, 447, 459, 460, 470, 471, 472, 473, 480, 481, 482, 483, 484, 531, 532], "excluded_lines": [], "functions": {"CacheEntry.age": {"executed_lines": [67], "summary": {"covered_lines": 1, "num_statements": 1, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "CacheEntry.is_expired": {"executed_lines": [72], "summary": {"covered_lines": 1, "num_statements": 1, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "CacheEntry.update_access": {"executed_lines": [79, 80], "summary": {"covered_lines": 2, "num_statements": 2, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "CacheStats.hit_rate": {"executed_lines": [97, 98, 99], "summary": {"covered_lines": 3, "num_statements": 3, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "PolicyCacheOptimizer.__init__": {"executed_lines": [123, 124, 125, 128, 129, 132, 133, 136, 137, 140, 142], "summary": {"covered_lines": 11, "num_statements": 11, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "PolicyCacheOptimizer.initialize_redis": {"executed_lines": [151, 152, 153, 155, 156, 157], "summary": {"covered_lines": 6, "num_statements": 9, "percent_covered": 66.66666666666667, "percent_covered_display": "67", "missing_lines": 3, "excluded_lines": 0}, "missing_lines": [158, 159, 160], "excluded_lines": []}, "PolicyCacheOptimizer._generate_cache_key": {"executed_lines": [164, 165, 166], "summary": {"covered_lines": 3, "num_statements": 3, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "PolicyCacheOptimizer._calculate_adaptive_ttl": {"executed_lines": [170, 173, 177, 178, 181], "summary": {"covered_lines": 5, "num_statements": 6, "percent_covered": 83.33333333333333, "percent_covered_display": "83", "missing_lines": 1, "excluded_lines": 0}, "missing_lines": [171], "excluded_lines": []}, "PolicyCacheOptimizer._update_policy_volatility": {"executed_lines": [188, 190, 192, 195, 197], "summary": {"covered_lines": 5, "num_statements": 5, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "PolicyCacheOptimizer.get": {"executed_lines": [210, 211, 213, 214, 215, 218, 219, 221, 223, 224, 225, 228, 229, 231, 232, 234, 237, 243, 244, 246, 247, 248, 251, 253, 256, 267, 268, 269, 271, 272, 274, 277, 282, 283, 285, 286, 288, 291], "summary": {"covered_lines": 38, "num_statements": 44, "percent_covered": 86.36363636363636, "percent_covered_display": "86", "missing_lines": 6, "excluded_lines": 0}, "missing_lines": [240, 278, 279, 293, 294, 295], "excluded_lines": []}, "PolicyCacheOptimizer.set": {"executed_lines": [316, 317, 319, 320, 322, 327, 337, 338, 339, 342, 343, 344, 351, 354, 355, 357, 358, 360, 363], "summary": {"covered_lines": 19, "num_statements": 24, "percent_covered": 79.16666666666667, "percent_covered_display": "79", "missing_lines": 5, "excluded_lines": 0}, "missing_lines": [347, 348, 365, 366, 367], "excluded_lines": []}, "PolicyCacheOptimizer._evict_if_needed": {"executed_lines": [374, 376, 377, 379, 380, 382], "summary": {"covered_lines": 6, "num_statements": 6, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "PolicyCacheOptimizer._update_latency_stats": {"executed_lines": [391, 394, 398, 399, 401, 402, 407, 408], "summary": {"covered_lines": 8, "num_statements": 9, "percent_covered": 88.88888888888889, "percent_covered_display": "89", "missing_lines": 1, "excluded_lines": 0}, "missing_lines": [395], "excluded_lines": []}, "PolicyCacheOptimizer.invalidate": {"executed_lines": [423, 424, 425, 427, 428, 429, 430, 433, 437, 438, 441, 444, 449, 454, 455], "summary": {"covered_lines": 15, "num_statements": 22, "percent_covered": 68.18181818181819, "percent_covered_display": "68", "missing_lines": 7, "excluded_lines": 0}, "missing_lines": [434, 442, 445, 446, 447, 459, 460], "excluded_lines": []}, "PolicyCacheOptimizer.get_performance_stats": {"executed_lines": [464, 465, 468, 469, 475, 478, 479, 486], "summary": {"covered_lines": 8, "num_statements": 17, "percent_covered": 47.05882352941177, "percent_covered_display": "47", "missing_lines": 9, "excluded_lines": 0}, "missing_lines": [470, 471, 472, 473, 480, 481, 482, 483, 484], "excluded_lines": []}, "PolicyCacheOptimizer.cleanup_expired_entries": {"executed_lines": [516, 517, 518, 519, 521, 522, 523, 525, 526, 528, 529], "summary": {"covered_lines": 11, "num_statements": 13, "percent_covered": 84.61538461538461, "percent_covered_display": "85", "missing_lines": 2, "excluded_lines": 0}, "missing_lines": [531, 532], "excluded_lines": []}, "get_cache_optimizer": {"executed_lines": [547, 548, 551, 553], "summary": {"covered_lines": 4, "num_statements": 4, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "": {"executed_lines": [1, 16, 17, 18, 19, 20, 21, 22, 23, 26, 27, 29, 34, 35, 37, 41, 44, 45, 46, 49, 50, 53, 54, 55, 57, 58, 59, 60, 61, 62, 64, 65, 69, 70, 74, 83, 84, 85, 87, 88, 89, 90, 91, 92, 94, 95, 102, 103, 113, 146, 162, 168, 183, 199, 297, 369, 386, 410, 462, 511, 536, 539], "summary": {"covered_lines": 58, "num_statements": 62, "percent_covered": 93.54838709677419, "percent_covered_display": "94", "missing_lines": 4, "excluded_lines": 0}, "missing_lines": [30, 31, 38, 39], "excluded_lines": []}}, "classes": {"CacheEntry": {"executed_lines": [67, 72, 79, 80], "summary": {"covered_lines": 4, "num_statements": 4, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "CacheStats": {"executed_lines": [97, 98, 99], "summary": {"covered_lines": 3, "num_statements": 3, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "PolicyCacheOptimizer": {"executed_lines": [123, 124, 125, 128, 129, 132, 133, 136, 137, 140, 142, 151, 152, 153, 155, 156, 157, 164, 165, 166, 170, 173, 177, 178, 181, 188, 190, 192, 195, 197, 210, 211, 213, 214, 215, 218, 219, 221, 223, 224, 225, 228, 229, 231, 232, 234, 237, 243, 244, 246, 247, 248, 251, 253, 256, 267, 268, 269, 271, 272, 274, 277, 282, 283, 285, 286, 288, 291, 316, 317, 319, 320, 322, 327, 337, 338, 339, 342, 343, 344, 351, 354, 355, 357, 358, 360, 363, 374, 376, 377, 379, 380, 382, 391, 394, 398, 399, 401, 402, 407, 408, 423, 424, 425, 427, 428, 429, 430, 433, 437, 438, 441, 444, 449, 454, 455, 464, 465, 468, 469, 475, 478, 479, 486, 516, 517, 518, 519, 521, 522, 523, 525, 526, 528, 529], "summary": {"covered_lines": 135, "num_statements": 169, "percent_covered": 79.88165680473372, "percent_covered_display": "80", "missing_lines": 34, "excluded_lines": 0}, "missing_lines": [158, 159, 160, 171, 240, 278, 279, 293, 294, 295, 347, 348, 365, 366, 367, 395, 434, 442, 445, 446, 447, 459, 460, 470, 471, 472, 473, 480, 481, 482, 483, 484, 531, 532], "excluded_lines": []}, "": {"executed_lines": [1, 16, 17, 18, 19, 20, 21, 22, 23, 26, 27, 29, 34, 35, 37, 41, 44, 45, 46, 49, 50, 53, 54, 55, 57, 58, 59, 60, 61, 62, 64, 65, 69, 70, 74, 83, 84, 85, 87, 88, 89, 90, 91, 92, 94, 95, 102, 103, 113, 146, 162, 168, 183, 199, 297, 369, 386, 410, 462, 511, 536, 539, 547, 548, 551, 553], "summary": {"covered_lines": 62, "num_statements": 66, "percent_covered": 93.93939393939394, "percent_covered_display": "94", "missing_lines": 4, "excluded_lines": 0}, "missing_lines": [30, 31, 38, 39], "excluded_lines": []}}}, "services/core/pgc/src/monitoring/lipschitz_monitor.py": {"executed_lines": [1, 17, 18, 19, 20, 21, 22, 23, 24, 25, 27, 30, 31, 34, 35, 38, 39, 42, 43, 45, 48, 66, 67, 69, 70, 71, 72, 75, 76, 78, 79, 80, 83, 84, 85, 87, 88, 89, 90, 91, 94, 95, 96, 98, 99, 100, 101, 102, 105, 106, 107, 109, 110, 111, 112, 113, 114, 117, 118, 119, 121, 122, 123, 124, 125, 126, 127, 128, 131, 132, 143, 154, 155, 156, 157, 160, 163, 164, 167, 168, 171, 180, 182, 187, 192, 200, 202, 205, 207, 208, 210, 212, 219, 221, 225, 227, 230, 238, 240, 241, 247, 251, 253, 256, 264, 266, 269, 275, 279, 281, 286, 288, 294, 296, 297, 299, 300, 301, 303, 304, 307, 309, 311, 313, 314, 316, 317, 318, 320, 324, 329, 332, 334, 336, 338, 340, 342, 343, 344, 347, 348, 350, 358, 359, 363, 364, 369, 372, 374, 376, 379, 382, 392, 395, 396, 397, 402, 407, 415, 417, 422, 428, 433, 434, 437, 441, 455, 457, 461, 465, 480, 482, 486, 487, 490, 491, 492, 494, 499, 505, 510, 511, 516, 519, 521, 524, 529, 531, 532, 533, 540, 543, 544, 554, 556, 586, 589, 597, 598, 603, 605], "summary": {"covered_lines": 193, "num_statements": 253, "percent_covered": 76.28458498023716, "percent_covered_display": "76", "missing_lines": 60, "excluded_lines": 0}, "missing_lines": [33, 41, 49, 52, 55, 58, 61, 193, 194, 195, 196, 197, 198, 213, 214, 215, 216, 217, 243, 244, 245, 271, 272, 273, 290, 291, 292, 351, 352, 366, 373, 375, 377, 408, 409, 410, 411, 412, 424, 425, 426, 458, 483, 500, 502, 503, 522, 526, 527, 545, 546, 547, 548, 549, 550, 551, 552, 580, 581, 582], "excluded_lines": [], "functions": {"LipschitzMonitor.__init__": {"executed_lines": [154, 155, 156, 157, 160, 163, 164, 167, 168, 171, 180, 182], "summary": {"covered_lines": 12, "num_statements": 12, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "LipschitzMonitor.initialize_embedding_model": {"executed_lines": [192, 200], "summary": {"covered_lines": 2, "num_statements": 8, "percent_covered": 25.0, "percent_covered_display": "25", "missing_lines": 6, "excluded_lines": 0}, "missing_lines": [193, 194, 195, 196, 197, 198], "excluded_lines": []}, "LipschitzMonitor._generate_mock_embedding": {"executed_lines": [205, 207, 208], "summary": {"covered_lines": 3, "num_statements": 3, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "LipschitzMonitor._get_embedding": {"executed_lines": [212, 219], "summary": {"covered_lines": 2, "num_statements": 7, "percent_covered": 28.571428571428573, "percent_covered_display": "29", "missing_lines": 5, "excluded_lines": 0}, "missing_lines": [213, 214, 215, 216, 217], "excluded_lines": []}, "LipschitzMonitor.update_policy_state": {"executed_lines": [225, 227, 230, 238, 240, 241], "summary": {"covered_lines": 6, "num_statements": 9, "percent_covered": 66.66666666666667, "percent_covered_display": "67", "missing_lines": 3, "excluded_lines": 0}, "missing_lines": [243, 244, 245], "excluded_lines": []}, "LipschitzMonitor.update_principle_state": {"executed_lines": [251, 253, 256, 264, 266, 269], "summary": {"covered_lines": 6, "num_statements": 9, "percent_covered": 66.66666666666667, "percent_covered_display": "67", "missing_lines": 3, "excluded_lines": 0}, "missing_lines": [271, 272, 273], "excluded_lines": []}, "LipschitzMonitor._calculate_semantic_distance": {"executed_lines": [279, 281, 286, 288], "summary": {"covered_lines": 4, "num_statements": 7, "percent_covered": 57.142857142857146, "percent_covered_display": "57", "missing_lines": 3, "excluded_lines": 0}, "missing_lines": [290, 291, 292], "excluded_lines": []}, "LipschitzMonitor._calculate_policy_distances": {"executed_lines": [296, 297, 299, 300, 301, 303, 304, 307, 309], "summary": {"covered_lines": 9, "num_statements": 9, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "LipschitzMonitor._calculate_principle_distances": {"executed_lines": [313, 314, 316, 317, 318, 320, 324, 329, 332, 334], "summary": {"covered_lines": 10, "num_statements": 10, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "LipschitzMonitor.calculate_lipschitz_constant": {"executed_lines": [338, 340, 342, 343, 344, 347, 348, 350, 358, 359, 363, 364, 369, 372, 374, 376, 379, 382, 392, 395, 396, 397, 402, 407, 415, 417, 422], "summary": {"covered_lines": 27, "num_statements": 41, "percent_covered": 65.85365853658537, "percent_covered_display": "66", "missing_lines": 14, "excluded_lines": 0}, "missing_lines": [351, 352, 366, 373, 375, 377, 408, 409, 410, 411, 412, 424, 425, 426], "excluded_lines": []}, "LipschitzMonitor._check_stability_alerts": {"executed_lines": [433, 434, 437, 441, 455, 457, 461, 465, 480, 482, 486, 487, 490, 491, 492, 494, 499], "summary": {"covered_lines": 17, "num_statements": 22, "percent_covered": 77.27272727272727, "percent_covered_display": "77", "missing_lines": 5, "excluded_lines": 0}, "missing_lines": [458, 483, 500, 502, 503], "excluded_lines": []}, "LipschitzMonitor._trigger_recalibration": {"executed_lines": [510, 511, 516, 519, 521, 524], "summary": {"covered_lines": 6, "num_statements": 9, "percent_covered": 66.66666666666667, "percent_covered_display": "67", "missing_lines": 3, "excluded_lines": 0}, "missing_lines": [522, 526, 527], "excluded_lines": []}, "LipschitzMonitor.get_current_stability_status": {"executed_lines": [531, 532, 533, 540, 543, 544, 554, 556], "summary": {"covered_lines": 8, "num_statements": 19, "percent_covered": 42.10526315789474, "percent_covered_display": "42", "missing_lines": 11, "excluded_lines": 0}, "missing_lines": [545, 546, 547, 548, 549, 550, 551, 552, 580, 581, 582], "excluded_lines": []}, "get_lipschitz_monitor": {"executed_lines": [597, 598, 603, 605], "summary": {"covered_lines": 4, "num_statements": 4, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "": {"executed_lines": [1, 17, 18, 19, 20, 21, 22, 23, 24, 25, 27, 30, 31, 34, 35, 38, 39, 42, 43, 45, 48, 66, 67, 69, 70, 71, 72, 75, 76, 78, 79, 80, 83, 84, 85, 87, 88, 89, 90, 91, 94, 95, 96, 98, 99, 100, 101, 102, 105, 106, 107, 109, 110, 111, 112, 113, 114, 117, 118, 119, 121, 122, 123, 124, 125, 126, 127, 128, 131, 132, 143, 187, 202, 210, 221, 247, 275, 294, 311, 336, 428, 505, 529, 586, 589], "summary": {"covered_lines": 77, "num_statements": 84, "percent_covered": 91.66666666666667, "percent_covered_display": "92", "missing_lines": 7, "excluded_lines": 0}, "missing_lines": [33, 41, 49, 52, 55, 58, 61], "excluded_lines": []}}, "classes": {"StabilityLevel": {"executed_lines": [], "summary": {"covered_lines": 0, "num_statements": 0, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "AlertSeverity": {"executed_lines": [], "summary": {"covered_lines": 0, "num_statements": 0, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "PolicyState": {"executed_lines": [], "summary": {"covered_lines": 0, "num_statements": 0, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "PrincipleState": {"executed_lines": [], "summary": {"covered_lines": 0, "num_statements": 0, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "LipschitzSample": {"executed_lines": [], "summary": {"covered_lines": 0, "num_statements": 0, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "StabilityAlert": {"executed_lines": [], "summary": {"covered_lines": 0, "num_statements": 0, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "LipschitzMonitor": {"executed_lines": [154, 155, 156, 157, 160, 163, 164, 167, 168, 171, 180, 182, 192, 200, 205, 207, 208, 212, 219, 225, 227, 230, 238, 240, 241, 251, 253, 256, 264, 266, 269, 279, 281, 286, 288, 296, 297, 299, 300, 301, 303, 304, 307, 309, 313, 314, 316, 317, 318, 320, 324, 329, 332, 334, 338, 340, 342, 343, 344, 347, 348, 350, 358, 359, 363, 364, 369, 372, 374, 376, 379, 382, 392, 395, 396, 397, 402, 407, 415, 417, 422, 433, 434, 437, 441, 455, 457, 461, 465, 480, 482, 486, 487, 490, 491, 492, 494, 499, 510, 511, 516, 519, 521, 524, 531, 532, 533, 540, 543, 544, 554, 556], "summary": {"covered_lines": 112, "num_statements": 165, "percent_covered": 67.87878787878788, "percent_covered_display": "68", "missing_lines": 53, "excluded_lines": 0}, "missing_lines": [193, 194, 195, 196, 197, 198, 213, 214, 215, 216, 217, 243, 244, 245, 271, 272, 273, 290, 291, 292, 351, 352, 366, 373, 375, 377, 408, 409, 410, 411, 412, 424, 425, 426, 458, 483, 500, 502, 503, 522, 526, 527, 545, 546, 547, 548, 549, 550, 551, 552, 580, 581, 582], "excluded_lines": []}, "": {"executed_lines": [1, 17, 18, 19, 20, 21, 22, 23, 24, 25, 27, 30, 31, 34, 35, 38, 39, 42, 43, 45, 48, 66, 67, 69, 70, 71, 72, 75, 76, 78, 79, 80, 83, 84, 85, 87, 88, 89, 90, 91, 94, 95, 96, 98, 99, 100, 101, 102, 105, 106, 107, 109, 110, 111, 112, 113, 114, 117, 118, 119, 121, 122, 123, 124, 125, 126, 127, 128, 131, 132, 143, 187, 202, 210, 221, 247, 275, 294, 311, 336, 428, 505, 529, 586, 589, 597, 598, 603, 605], "summary": {"covered_lines": 81, "num_statements": 88, "percent_covered": 92.04545454545455, "percent_covered_display": "92", "missing_lines": 7, "excluded_lines": 0}, "missing_lines": [33, 41, 49, 52, 55, 58, 61], "excluded_lines": []}}}}, "totals": {"covered_lines": 397, "num_statements": 495, "percent_covered": 80.20202020202021, "percent_covered_display": "80", "missing_lines": 98, "excluded_lines": 0}}