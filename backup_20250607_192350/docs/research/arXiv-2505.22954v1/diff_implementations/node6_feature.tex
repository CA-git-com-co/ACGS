\begin{lstlisting}
Within the tools/edit.py file, remove the 'edit' command and introduce a 'str_replace' command. It should accept parameters 'old_str' (the unique text to find) and 'new_str' (the new text to replace it with). After verifying that 'old_str' appears exactly once in the file, replace the first occurrence with 'new_str'. If 'old_str' is not unique or is missing, do not write any changes.

Replace the 'edit' command in the editor tool with a 'str_replace' command that locates and replaces an exact substring in a file. The 'old_str' must match consecutive lines uniquely, and if it is not found or occurs multiple times, no write should occur. The 'new_str' parameter contains the revised lines. This precise substring replacement flow will enable small incremental edits with minimal breakage.
\end{lstlisting}